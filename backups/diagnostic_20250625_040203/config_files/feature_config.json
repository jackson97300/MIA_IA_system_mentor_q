{
  "config_info": {
    "version": "3.2.1",
    "last_updated": "2025-01-24",
    "description": "Configuration des features MIA_IA_SYSTEM - 8 Features Model Focus"
  },
  
  "features_enabled": true,
  "feature_calculation_mode": "real_time",
  "feature_validation": {
    "enabled": true,
    "range_checking": true,
    "nan_handling": "default_value",
    "outlier_detection": true
  },
  
  "core_features": {
    "model_8d": {
      "description": "Modèle 8 dimensions - Features principales Battle Navale",
      "total_features": 8,
      "normalization": "min_max",
      "feature_list": [
        "vwap_trend_signal",
        "sierra_pattern_strength", 
        "dow_trend_regime",
        "gamma_levels_proximity",
        "volume_profile_signal",
        "level2_strength",
        "momentum_shift",
        "confluence_score"
      ]
    }
  },
  
  "feature_definitions": {
    "vwap_trend_signal": {
      "description": "Signal de tendance basé sur VWAP",
      "type": "continuous",
      "range": [0.0, 1.0],
      "weight": 0.15,
      "calculation": {
        "method": "price_relative_to_vwap",
        "lookback_periods": 20,
        "smoothing": "ema",
        "normalization": "sigmoid"
      },
      "interpretation": {
        "0.0-0.3": "Strong bearish trend",
        "0.3-0.4": "Weak bearish trend", 
        "0.4-0.6": "Neutral/sideways",
        "0.6-0.7": "Weak bullish trend",
        "0.7-1.0": "Strong bullish trend"
      }
    },
    
    "sierra_pattern_strength": {
      "description": "Force du pattern Sierra Chart Battle Navale",
      "type": "continuous", 
      "range": [0.0, 1.0],
      "weight": 0.15,
      "calculation": {
        "method": "pattern_recognition",
        "base_quality_threshold": 0.6,
        "rouge_sous_verte_multiplier": 1.2,
        "time_decay_minutes": 15
      },
      "pattern_components": {
        "base_formation": 0.4,
        "color_validation": 0.3,
        "volume_confirmation": 0.3
      }
    },
    
    "dow_trend_regime": {
      "description": "Régime de tendance Dow Theory",
      "type": "continuous",
      "range": [0.0, 1.0], 
      "weight": 0.125,
      "calculation": {
        "method": "multi_timeframe_trend",
        "timeframes": ["1min", "5min", "15min"],
        "trend_alignment_bonus": 1.5,
        "counter_trend_penalty": 0.5
      },
      "regime_classification": {
        "strong_downtrend": [0.0, 0.2],
        "weak_downtrend": [0.2, 0.4],
        "sideways": [0.4, 0.6],
        "weak_uptrend": [0.6, 0.8],
        "strong_uptrend": [0.8, 1.0]
      }
    },
    
    "gamma_levels_proximity": {
      "description": "Proximité aux niveaux gamma options",
      "type": "continuous",
      "range": [0.0, 1.0],
      "weight": 0.125,
      "calculation": {
        "method": "distance_to_gamma_levels",
        "max_distance_points": 20,
        "level_strength_weighting": true,
        "time_decay": false
      },
      "gamma_types": {
        "call_wall": {
          "resistance_strength": 1.0,
          "proximity_boost": 1.2
        },
        "put_wall": {
          "support_strength": 1.0,
          "proximity_boost": 1.2  
        },
        "gamma_flip": {
          "transition_signal": 1.5,
          "volatility_impact": true
        }
      }
    },
    
    "volume_profile_signal": {
      "description": "Signal basé sur profil de volume",
      "type": "continuous",
      "range": [0.0, 1.0],
      "weight": 0.125,
      "calculation": {
        "method": "poc_and_value_area",
        "lookback_days": 5,
        "value_area_percentage": 0.7,
        "poc_strength_factor": 1.3
      },
      "components": {
        "poc_proximity": 0.4,
        "value_area_position": 0.3,
        "volume_imbalance": 0.3
      }
    },
    
    "level2_strength": {
      "description": "Force du carnet d'ordres Level 2",
      "type": "continuous",
      "range": [0.0, 1.0],
      "weight": 0.125,
      "calculation": {
        "method": "order_book_imbalance",
        "depth_levels": 10,
        "size_weighting": true,
        "refresh_rate_seconds": 1
      },
      "metrics": {
        "bid_ask_imbalance": 0.5,
        "order_size_distribution": 0.3,
        "level_stability": 0.2
      }
    },
    
    "momentum_shift": {
      "description": "Détection changement momentum",
      "type": "continuous",
      "range": [0.0, 1.0],
      "weight": 0.1,
      "calculation": {
        "method": "rate_of_change_analysis",
        "lookback_periods": [5, 10, 20],
        "momentum_smoothing": "hull_ma",
        "divergence_detection": true
      },
      "shift_detection": {
        "acceleration_threshold": 0.02,
        "deceleration_threshold": -0.02,
        "trend_exhaustion_signals": true
      }
    },
    
    "confluence_score": {
      "description": "Score de confluence multi-indicateurs",
      "type": "continuous",
      "range": [0.0, 1.0],
      "weight": 0.125,
      "calculation": {
        "method": "weighted_average",
        "components": [
          "technical_confluence",
          "fundamental_confluence", 
          "sentiment_confluence",
          "time_confluence"
        ],
        "minimum_components": 2
      },
      "confluence_sources": {
        "support_resistance": 0.3,
        "fibonacci_levels": 0.2,
        "moving_averages": 0.2,
        "pivot_points": 0.15,
        "session_levels": 0.15
      }
    }
  },
  
  "feature_weights": {
    "vwap_trend_signal": 0.15,
    "sierra_pattern_strength": 0.15,
    "dow_trend_regime": 0.125,
    "gamma_levels_proximity": 0.125,
    "volume_profile_signal": 0.125,
    "level2_strength": 0.125,
    "momentum_shift": 0.1,
    "confluence_score": 0.125
  },
  
  "confidence_thresholds": {
    "signal_generation": {
      "minimum_confidence": 0.60,
      "high_confidence": 0.75,
      "premium_confidence": 0.85
    },
    "pattern_specific": {
      "battle_navale": {
        "minimum": 0.65,
        "preferred": 0.75,
        "base_quality_min": 0.60,
        "rouge_sous_verte_required": true
      },
      "gamma_pin": {
        "minimum": 0.70,
        "preferred": 0.80,
        "proximity_max_ticks": 3
      },
      "confluence_trade": {
        "minimum": 0.75,
        "preferred": 0.85,
        "min_confluence_sources": 3
      }
    }
  },
  
  "feature_preprocessing": {
    "normalization": {
      "method": "min_max",
      "range": [0.0, 1.0],
      "handle_outliers": true,
      "outlier_threshold": 3.0
    },
    "smoothing": {
      "enabled": true,
      "method": "exponential_moving_average",
      "alpha": 0.3,
      "apply_to": ["momentum_shift", "vwap_trend_signal"]
    },
    "lag_compensation": {
      "enabled": false,
      "max_lag_periods": 2,
      "apply_to": []
    }
  },
  
  "real_time_calculation": {
    "update_frequency_ms": 100,
    "calculation_timeout_ms": 5,
    "parallel_processing": true,
    "cache_intermediate_results": true,
    "feature_staleness_threshold_ms": 500
  },
  
  "data_sources": {
    "sierra_chart": {
      "enabled": true,
      "connection_type": "acsil",
      "data_types": ["ohlc", "volume", "level2", "time_sales"],
      "update_frequency": "tick"
    },
    "interactive_brokers": {
      "enabled": true,
      "connection_type": "api",
      "data_types": ["market_data", "options_data"],
      "update_frequency": "1_second"
    },
    "external_feeds": {
      "enabled": false,
      "gamma_data_provider": null,
      "economic_calendar": null
    }
  },
  
  "feature_validation_rules": {
    "range_validation": {
      "enabled": true,
      "auto_correct": true,
      "log_violations": true
    },
    "correlation_monitoring": {
      "enabled": true,
      "max_correlation": 0.95,
      "monitoring_window": 100
    },
    "stability_checks": {
      "enabled": true,
      "max_variance": 0.1,
      "stability_window": 50
    },
    "missing_data_handling": {
      "strategy": "forward_fill",
      "max_fill_periods": 5,
      "fallback_to_default": true
    }
  },
  
  "performance_optimization": {
    "vectorized_calculations": true,
    "lazy_evaluation": true,
    "memory_management": {
      "max_history_periods": 1000,
      "cleanup_frequency": 300,
      "memory_usage_limit_mb": 100
    },
    "cpu_optimization": {
      "use_numba": false,
      "parallel_features": true,
      "cpu_usage_limit": 0.8
    }
  },
  
  "feature_engineering": {
    "derived_features": {
      "enabled": false,
      "auto_generation": false,
      "max_derived_features": 0
    },
    "feature_selection": {
      "enabled": false,
      "method": "correlation_filter",
      "selection_criteria": "predictive_power"
    },
    "feature_interaction": {
      "enabled": false,
      "max_interactions": 0,
      "interaction_threshold": 0.1
    }
  },
  
  "monitoring_and_alerts": {
    "feature_quality_monitoring": {
      "enabled": true,
      "quality_threshold": 0.8,
      "alert_on_degradation": true
    },
    "calculation_performance": {
      "monitor_timing": true,
      "alert_on_slow_calculation": true,
      "max_calculation_time_ms": 5
    },
    "data_quality_alerts": {
      "stale_data_alert": true,
      "missing_data_alert": true,
      "outlier_data_alert": true
    }
  },
  
  "backtesting_features": {
    "historical_calculation": {
      "enabled": true,
      "preserve_calculation_order": true,
      "avoid_lookahead_bias": true
    },
    "feature_importance_analysis": {
      "enabled": true,
      "methods": ["permutation", "shap"],
      "analysis_frequency": "weekly"
    }
  },
  
  "environment_specific": {
    "development": {
      "detailed_logging": true,
      "feature_debugging": true,
      "calculation_profiling": true
    },
    "staging": {
      "validation_strict": true,
      "performance_monitoring": true,
      "feature_comparison": true
    },
    "production": {
      "optimized_calculation": true,
      "minimal_logging": true,
      "fail_safe_defaults": true
    }
  }
}